<!DOCTYPE html> <html lang=python > <meta charset=utf-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /> <meta name=viewport  content="width=device-width,initial-scale=1"> <meta http-equiv=x-ua-compatible  content="ie=edge"> <meta name="lang:clipboard.copy" content="Copy to clipboard"> <meta name="lang:clipboard.copied" content="Copied to clipboard"> <meta name="lang:search.language" content=en > <meta name="lang:search.pipeline.stopwords" content=True > <meta name="lang:search.pipeline.trimmer" content=True > <meta name="lang:search.result.none" content="No matching documents"> <meta name="lang:search.result.one" content="1 matching document"> <meta name="lang:search.result.other" content="# matching documents"> <meta name="lang:search.tokenizer" content="[\s\-]+"> <link href="https://fonts.gstatic.com/" rel=preconnect  crossorigin> <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel=stylesheet > <style> body, input { font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif } code, kbd, pre { font-family: "Roboto Mono", "Courier New", Courier, monospace } </style> <link rel=stylesheet  href="_static/stylesheets/application.css"/> <link rel=stylesheet  href="_static/stylesheets/application-palette.css"/> <link rel=stylesheet  href="_static/stylesheets/application-fixes.css"/> <link rel=stylesheet  href="_static/fonts/material-icons.css"/> <meta name=theme-color  content=3391c6 > <script src="_static/javascripts/modernizr.js"></script> <title>Snippets &#8212; snowmobile</title> <link rel=stylesheet  href="_static/pygments.css" type="text/css" /> <link rel=stylesheet  href="_static/material.css" type="text/css" /> <link rel=stylesheet  type="text/css" href="_static/togglebutton.css" /> <link rel=stylesheet  type="text/css" href="_static/mystnb.css" /> <link rel=stylesheet  type="text/css" href="_static/graphviz.css" /> <link rel=stylesheet  type="text/css" href="_static/copybutton.css" /> <link rel=stylesheet  type="text/css" href="_static/css/friendly.css" /> <link rel=stylesheet  type="text/css" href="_static/css/application_ext.css" /> <link rel=stylesheet  type="text/css" href="_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" /> <link rel=stylesheet  type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" /> <link rel=stylesheet  type="text/css" href="_static/panels-variables.fc5f225a980c9ed30de7ecc3c7eddd55.css" /> <link rel=stylesheet  type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" /> <script id=documentation_options  data-url_root="./" src="_static/documentation_options.js"></script> <script src="_static/jquery.js"></script> <script src="_static/underscore.js"></script> <script src="_static/doctools.js"></script> <script src="_static/togglebutton.js"></script> <script src="_static/clipboard.min.js"></script> <script src="_static/copybutton.js"></script> <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script> <script src="_static/js/scrollbar.js"></script> <script src="_static/js/ios.js"></script> <script src="_static/js/resize.js"></script> <script src="_static/js/darkreader.js"></script> <script src="_static/js/theme.js"></script> <link rel=index  title=Index  href=genindex.html  /> <link rel=search  title=Search  href=search.html  /> <link rel=next  title="Advanced Examples" href="usage/advanced.html" /> <link rel=prev  title=snowmobile.core.table  href="autoapi/snowmobile/core/table/index.html" /> <body dir=ltr data-md-color-primary=blue data-md-color-accent=cyan> <svg class=md-svg > <defs data-children-count=0 > <svg xmlns="http://www.w3.org/2000/svg" width=416  height=448  viewBox="0 0 416 448" id=__github ><path fill=currentColor  d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle  data-md-toggle=drawer  type=checkbox  id=__drawer > <input class=md-toggle  data-md-toggle=search  type=checkbox  id=__search > <label class=md-overlay  data-md-component=overlay  for=__drawer ></label> <a href="#snippets" tabindex=1  class=md-skip > Skip to content </a> <header class=md-header  data-md-component=header > <nav class="md-header-nav md-grid"> <div class="md-flex navheader"> <div class="md-flex__cell md-flex__cell--shrink"> <a href=index.html  title=snowmobile  class="md-header-nav__button md-logo"> &nbsp; </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer ></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title > <span class=md-header-nav__topic >snowmobile</span> <span class=md-header-nav__topic > Snippets </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search ></label> <div class=md-search  data-md-component=search  role=dialog > <label class=md-search__overlay  for=__search ></label> <div class=md-search__inner  role=search > <form class=md-search__form  action=search.html  method=GET  name=search > <input type=text  class=md-search__input  name=q  placeholder=Search  autocapitalize=off  autocomplete=off  spellcheck=false  data-md-component=query  data-md-state=active > <label class="md-icon md-search__icon" for=__search ></label> <button type=reset  class="md-icon md-search__icon" data-md-component=reset  tabindex=-1 > &#xE5CD; </button> </form> <div class=md-search__output > <div class=md-search__scrollwrap  data-md-scrollfix> <div class=md-search-result  data-md-component=result > <div class=md-search-result__meta > Type to start searching </div> <ol class=md-search-result__list ></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source > <a href="https://github.com/GEM7318/Snowmobile" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > gem7318/snowmobile </div> </a> </div> </div> <script src="_static/javascripts/version_dropdown.js"></script> <script> var json_loc = ""versions.json"", target_loc = "../", text = "Versions"; $( document ).ready( add_version_dropdown(json_loc, target_loc, text)); </script> </div> </nav> </header> <div class=md-container > <nav class=md-tabs  data-md-component=tabs > <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list > <li class=md-tabs__item ><a href=index.html  class=md-tabs__link >snowmobile</a> <li class=md-tabs__item ><a href="./usage/snowmobile.html/connecting-to-snowflake.html" class=md-tabs__link >Connecting to Snowflake</a> </ul> </div> </nav> <main class=md-main > <div class="md-main__inner md-grid" data-md-component=container > <div class="md-sidebar md-sidebar--primary" data-md-component=navigation > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--primary" data-md-level=0 > <label class="md-nav__title md-nav__title--site" for=__drawer > <a href=index.html  title=snowmobile  class="md-nav__button md-logo"> <img src="_static/" alt=" logo" width=48  height=48 > </a> <a href=index.html  title=snowmobile >snowmobile</a> </label> <div class=md-nav__source > <a href="https://github.com/GEM7318/Snowmobile" title="Go to repository" class=md-source  data-md-source=github > <div class=md-source__icon > <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width=28  height=28 > <use xlink:href="#__github" width=24  height=24 ></use> </svg> </div> <div class=md-source__repository > gem7318/snowmobile </div> </a> </div> <ul class=md-nav__list > <li class=md-nav__item > <a href=setup.html  class=md-nav__link >Setup</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Core</span></span> <li class=md-nav__item > <a href="usage/snowmobile.html" class=md-nav__link >Snowmobile</a> <li class=md-nav__item > <a href="usage/script.html" class=md-nav__link >Script</a> <li class=md-nav__item > <a href="usage/table.html" class=md-nav__link >Table</a> <li class=md-nav__item > <a href="usage/sql.html" class=md-nav__link >SQL</a> <li class=md-nav__item > <a href="usage/snowmobile_toml.html" class=md-nav__link ><em>snowmobile.toml</em></a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Technical Resources</span></span> <li class=md-nav__item > <a href="autoapi/snowmobile/core/index.html" class=md-nav__link ><code class="xref py py-mod docutils literal notranslate"><span class=pre >snowmobile.core</span></code></a> <li class=md-nav__item > <input class="md-toggle md-nav__toggle" data-md-toggle=toc  type=checkbox  id=__toc > <label class="md-nav__link md-nav__link--active" for=__toc > Snippets </label> <a href="#" class="md-nav__link md-nav__link--active">Snippets</a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#snippets--page-root" class=md-nav__link >Snippets</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#configuration" class=md-nav__link >Configuration</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#inspect-configuration-py" class=md-nav__link ><em>inspect_configuration.py</em></a> </ul> </nav> <li class=md-nav__item ><a href="#overview" class=md-nav__link >Overview</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#sample-table-sql" class=md-nav__link ><em>sample_table.sql</em></a> </ul> </nav> <li class=md-nav__item ><a href="#script" class=md-nav__link >Script</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#intro-sql" class=md-nav__link ><em>intro.sql</em></a> <li class=md-nav__item ><a href="#keyword-exceptions-sql" class=md-nav__link ><em>keyword_exceptions.sql</em></a> <li class=md-nav__item ><a href="#markup-sql" class=md-nav__link ><em>markup.sql</em></a> <li class=md-nav__item ><a href="#overview-statement-intro-py" class=md-nav__link ><em>overview-statement-intro.py</em></a> <li class=md-nav__item ><a href="#overview-sql" class=md-nav__link ><em>overview.sql</em></a> <li class=md-nav__item ><a href="#tags-multi-line-sql" class=md-nav__link ><em>tags_multi-line.sql</em></a> <li class=md-nav__item ><a href="#tags-single-line-sql" class=md-nav__link ><em>tags_single-line.sql</em></a> </ul> </nav> <li class=md-nav__item ><a href="#snowmobile" class=md-nav__link >Snowmobile</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#connecting-py" class=md-nav__link ><em>connecting.py</em></a> <li class=md-nav__item ><a href="#connector-cursor-note-py" class=md-nav__link ><em>connector_cursor_note.py</em></a> <li class=md-nav__item ><a href="#connector-delayed1-py" class=md-nav__link ><em>connector_delayed1.py</em></a> <li class=md-nav__item ><a href="#connector-delayed2-py" class=md-nav__link ><em>connector_delayed2.py</em></a> <li class=md-nav__item ><a href="#ensure-alive-py" class=md-nav__link ><em>ensure_alive.py</em></a> <li class=md-nav__item ><a href="#executing-py" class=md-nav__link ><em>executing.py</em></a> <li class=md-nav__item ><a href="#inspect-connector-py" class=md-nav__link ><em>inspect_connector.py</em></a> <li class=md-nav__item ><a href="#specifying-configuration-py" class=md-nav__link ><em>specifying_configuration.py</em></a> <li class=md-nav__item ><a href="#specifying-configuration2-py" class=md-nav__link ><em>specifying_configuration2.py</em></a> <li class=md-nav__item ><a href="#verify-default-alias-change-py" class=md-nav__link ><em>verify_default_alias_change.py</em></a> </ul> </nav> <li class=md-nav__item ><a href="#sql" class=md-nav__link >SQL</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#sql-cross-schema-py" class=md-nav__link ><em>sql_cross_schema.py</em></a> </ul> </nav> </ul> </nav> <li class=md-nav__item ><a class=md-nav__extra_link  href="_sources/snippets.md.txt">Show Source</a> </ul> </nav> <li class=md-nav__item > <a href="usage/advanced.html" class=md-nav__link >Advanced Examples</a> <li class=md-nav__item > <span class="md-nav__link caption"><span class=caption-text >Other</span></span> <li class=md-nav__item > <a href=acknowledgements.html  class=md-nav__link >Acknowledgements</a> <li class=md-nav__item > <a href=changelog.html  class=md-nav__link >Changelog</a> <li class=md-nav__item > <a href=authors.html  class=md-nav__link >Authors</a> <li class=md-nav__item > <a href=license.html  class=md-nav__link >License</a> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc > <div class=md-sidebar__scrollwrap > <div class=md-sidebar__inner > <nav class="md-nav md-nav--secondary"> <label class=md-nav__title  for=__toc >Contents</label> <ul class=md-nav__list  data-md-scrollfix=""> <li class=md-nav__item ><a href="#snippets--page-root" class=md-nav__link >Snippets</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#configuration" class=md-nav__link >Configuration</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#inspect-configuration-py" class=md-nav__link ><em>inspect_configuration.py</em></a> </ul> </nav> <li class=md-nav__item ><a href="#overview" class=md-nav__link >Overview</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#sample-table-sql" class=md-nav__link ><em>sample_table.sql</em></a> </ul> </nav> <li class=md-nav__item ><a href="#script" class=md-nav__link >Script</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#intro-sql" class=md-nav__link ><em>intro.sql</em></a> <li class=md-nav__item ><a href="#keyword-exceptions-sql" class=md-nav__link ><em>keyword_exceptions.sql</em></a> <li class=md-nav__item ><a href="#markup-sql" class=md-nav__link ><em>markup.sql</em></a> <li class=md-nav__item ><a href="#overview-statement-intro-py" class=md-nav__link ><em>overview-statement-intro.py</em></a> <li class=md-nav__item ><a href="#overview-sql" class=md-nav__link ><em>overview.sql</em></a> <li class=md-nav__item ><a href="#tags-multi-line-sql" class=md-nav__link ><em>tags_multi-line.sql</em></a> <li class=md-nav__item ><a href="#tags-single-line-sql" class=md-nav__link ><em>tags_single-line.sql</em></a> </ul> </nav> <li class=md-nav__item ><a href="#snowmobile" class=md-nav__link >Snowmobile</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#connecting-py" class=md-nav__link ><em>connecting.py</em></a> <li class=md-nav__item ><a href="#connector-cursor-note-py" class=md-nav__link ><em>connector_cursor_note.py</em></a> <li class=md-nav__item ><a href="#connector-delayed1-py" class=md-nav__link ><em>connector_delayed1.py</em></a> <li class=md-nav__item ><a href="#connector-delayed2-py" class=md-nav__link ><em>connector_delayed2.py</em></a> <li class=md-nav__item ><a href="#ensure-alive-py" class=md-nav__link ><em>ensure_alive.py</em></a> <li class=md-nav__item ><a href="#executing-py" class=md-nav__link ><em>executing.py</em></a> <li class=md-nav__item ><a href="#inspect-connector-py" class=md-nav__link ><em>inspect_connector.py</em></a> <li class=md-nav__item ><a href="#specifying-configuration-py" class=md-nav__link ><em>specifying_configuration.py</em></a> <li class=md-nav__item ><a href="#specifying-configuration2-py" class=md-nav__link ><em>specifying_configuration2.py</em></a> <li class=md-nav__item ><a href="#verify-default-alias-change-py" class=md-nav__link ><em>verify_default_alias_change.py</em></a> </ul> </nav> <li class=md-nav__item ><a href="#sql" class=md-nav__link >SQL</a><nav class=md-nav > <ul class=md-nav__list > <li class=md-nav__item ><a href="#sql-cross-schema-py" class=md-nav__link ><em>sql_cross_schema.py</em></a> </ul> </nav> </ul> </nav> <li class=md-nav__item ><a class=md-nav__extra_link  href="_sources/snippets.md.txt">Show Source</a> <li id=searchbox  class=md-nav__item > </ul> </nav> </div> </div> </div> <div class=md-content > <article class="md-content__inner md-typeset" role=main > <h1 id=snippets--page-root >Snippets<a class=headerlink  href="#snippets--page-root" title="Permalink to this headline">¶</a></h1> <hr class=sn-grey /> <p>This is a generated reference page for complete code snippets used throughout the rest of the documentation.</p> <hr class=sn-grey /> <style> h2 { background: radial-gradient(#11838e91,#11838e00); /*border-bottom: solid thin #6c757d12;*/ /*border-top: solid thin #6c757d12;*/ border: none; margin-bottom: 1rem; margin-top: 2rem; color: #212529; font-weight: 400; padding-top: 0.2em; padding-bottom: 0.2em; padding-left: 0.2em; } h3 { padding-left: 1.1em; } h2 + hr + h3 { padding-top: 0.5em; } h3[id$="py"] + hr, h3[id$="sql"] + hr { margin: -0.5em 2em -0.5em 1rem; border-color: #206f8d8f; border-style: solid; } .sn-download-snippet p a:hover { background-color: #28698b; padding-top: 0.2rem; } .sn-snippet-git-link p a:hover { background-color: #28698b; padding-top: 0.2rem; } .md-typeset p ~ .highlight-python.notranslate, .md-typeset .highlight-sql.notranslate, .md-typeset .highlight-default, .md-typeset .highlight-toml.notranslate { margin-left: unset; margin-right: unset; margin-bottom: unset; } .md-typeset .sn-pre-code ~ .highlight-python.notranslate, .md-typeset .highlight-sql.notranslate, .md-typeset .highlight-default, .md-typeset .highlight-toml.notranslate { margin-left: unset; margin-right: unset; } ul.md-nav__list>li.md-nav__item:last-child { padding-bottom: 0.5em; } li.md-nav__item>a[href$="py"]>em { color: #f0f8ffcf; } li.md-nav__item>a[href$="-sql"] { color: #f8f9fa8f; } nav.md-nav.md-nav--secondary a[href$="page-root"] { margin-bottom: 1em; } @media only screen and (max-width: 59.9375em) { .md-typeset .sn-indent-h-cell { padding-left: 0.4rem; padding-right: 0.4rem; } h3 { padding-left: 0.4em; } h3[id$="py"] + hr, h3[id$="sql"] + hr { margin: -0.5em 0.4rem -0.5em 0.4rem; } div.sn-link-group.sn-snippet-only { padding-right: 0.4rem; } li.md-nav__item>a>em { color: unset; } li.md-nav__item>a[href$="py"]>em { color: #f8f9fa; } li.md-nav__item>a[href$="sql"] { color: #f8f9faa3; } nav.md-nav.md-nav--secondary a[href$="page-root"] { margin-bottom: unset; } } </style> <br/> <h2 id=configuration >Configuration<a class=headerlink  href="#configuration" title="Permalink to this headline">¶</a></h2> <h3 id=inspect-configuration-py ><em>inspect_configuration.py</em><a class=headerlink  href="#inspect-configuration-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils > <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/b999e25328ce0937b38c50a45843a61c/inspect_configuration.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/configuration/inspect_configuration.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Instantiate a delayed snowmobile.Snowmobile object and inspect configuration model.</span>
<span class=sd >../docs/snippets/configuration/inspect_configuration.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >Snowmobile</span><span class=p >(</span><span class=n >delay</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=p >)</span>              <span class=c1 >#&gt; snowmobile.core.configuration.Configuration</span>
<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >location</span><span class=p >)</span>    <span class=c1 >#  'path/to/your/snowmobile.toml'</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >connection</span><span class=p >)</span>   <span class=c1 >#&gt; snowmobile.core.cfg.connection.Connection</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >loading</span><span class=p >)</span>      <span class=c1 >#&gt; snowmobile.core.cfg.loading.Loading</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >script</span><span class=p >)</span>       <span class=c1 >#&gt; snowmobile.core.cfg.script.Script</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >sql</span><span class=p >)</span>          <span class=c1 >#&gt; snowmobile.core.cfg.other.SQL</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >ext_sources</span><span class=p >)</span>  <span class=c1 >#&gt; snowmobile.core.cfg.other.Location</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <br/> <h2 id=overview >Overview<a class=headerlink  href="#overview" title="Permalink to this headline">¶</a></h2> <h3 id=sample-table-sql ><em>sample_table.sql</em><a class=headerlink  href="#sample-table-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils > <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/0450010b1f9929fe6a991a93f6b0f85b/sample_table.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/overview/sample_table.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/getting_started/sample_table.sql</span>

<span class=k >create</span> <span class=k >or</span> <span class=k >replace</span> <span class=k >table</span> <span class=n >sample_table</span> <span class=p >(</span>
	<span class=n >col1</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >),</span>
	<span class=n >col2</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >)</span>
<span class=p >);</span>

<span class=k >insert</span> <span class=k >into</span> <span class=n >sample_table</span> <span class=k >with</span>
<span class=n >sample_data</span> <span class=k >as</span> <span class=p >(</span>
  <span class=k >select</span>
    <span class=n >uniform</span><span class=p >(</span><span class=mi >1</span><span class=p >,</span> <span class=mi >10</span><span class=p >,</span> <span class=n >random</span><span class=p >(</span><span class=mi >1</span><span class=p >))</span> <span class=k >as</span> <span class=n >rand_int</span>
  <span class=k >from</span> <span class=k >table</span><span class=p >(</span><span class=n >generator</span><span class=p >(</span><span class=n >rowcount</span> <span class=o >=&gt;</span> <span class=mi >3</span><span class=p >))</span> <span class=n >v</span>
<span class=p >)</span>
  <span class=k >select</span>
    <span class=n >row_number</span><span class=p >()</span> <span class=n >over</span> <span class=p >(</span><span class=k >order</span> <span class=k >by</span> <span class=n >a</span><span class=p >.</span><span class=n >rand_int</span><span class=p >)</span> <span class=k >as</span> <span class=n >col1</span>
    <span class=p >,(</span><span class=n >col1</span> <span class=o >*</span> <span class=n >col1</span><span class=p >)</span> <span class=k >as</span> <span class=n >col2</span>
  <span class=k >from</span> <span class=n >sample_data</span> <span class=n >a</span><span class=p >;</span>

<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=cm >/*-qa-empty~verify 'sample_table' is distinct on 'col1'-*/</span>
<span class=k >select</span>
  <span class=n >a</span><span class=p >.</span><span class=n >col1</span>
  <span class=p >,</span><span class=k >count</span><span class=p >(</span><span class=o >*</span><span class=p >)</span>
<span class=k >from</span> <span class=n >sample_table</span> <span class=n >a</span>
<span class=k >group</span> <span class=k >by</span> <span class=mi >1</span>
<span class=k >having</span> <span class=k >count</span><span class=p >(</span><span class=o >*</span><span class=p >)</span> <span class=o >&lt;&gt;</span> <span class=mi >1</span><span class=p >;</span>

<span class=cm >/*-insert into~any_other_table-*/</span>
<span class=k >insert</span> <span class=k >into</span> <span class=n >any_other_table</span> <span class=p >(</span>
  <span class=k >select</span>
    <span class=n >a</span><span class=p >.</span><span class=o >*</span>
    <span class=p >,</span><span class=n >tmstmp</span><span class=p >.</span><span class=n >tmstmp</span> <span class=k >as</span> <span class=n >insert_tmstmp</span>
  <span class=k >from</span> <span class=n >sample_table</span> <span class=n >a</span>
  <span class=k >cross</span> <span class=k >join</span> <span class=p >(</span><span class=k >select</span> <span class=k >current_timestamp</span><span class=p >()</span> <span class=k >as</span> <span class=n >tmstmp</span><span class=p >)</span><span class=n >tmstmp</span>
<span class=p >);</span>
</pre></div> </table></div> </div> <br/> <br/> <h2 id=script >Script<a class=headerlink  href="#script" title="Permalink to this headline">¶</a></h2> <h3 id=intro-sql ><em>intro.sql</em><a class=headerlink  href="#intro-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/ef4ac2941b9e85477889dc468770d9d7/intro.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/intro.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=cm >/*</span>
<span class=cm >../snippets/script/intro.sql</span>
<span class=cm >Demonstrate basic parsing functionality.</span>
<span class=cm >*/</span>

<span class=cm >/*-</span>
<span class=cm >__intro.sql__</span>
<span class=cm >__authored-by: Some Chap or Lass</span>
<span class=cm >__authored-on: Some Day or Year</span>
<span class=cm >__p*_***:</span>
<span class=cm >**Impetus**: *SQL is older than time and isn't going anywhere; might we allow a simple markup syntax?*</span>
<span class=cm >-*/</span>

<span class=cm >/*-</span>
<span class=cm >create table~sample_table; DDL</span>
<span class=cm >__description: This is an example statement description</span>
<span class=cm >-*/</span>
<span class=k >create</span> <span class=k >or</span> <span class=k >replace</span> <span class=k >table</span> <span class=n >sample_table</span> <span class=p >(</span>
	<span class=n >col1</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >),</span>
	<span class=n >col2</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >)</span>
<span class=p >);</span>
</pre></div> </table></div> </div> <br/> <h3 id=keyword-exceptions-sql ><em>keyword_exceptions.sql</em><a class=headerlink  href="#keyword-exceptions-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/9ba0a8e079ee5f8546d480b0edff62d2/keyword_exceptions.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/keyword_exceptions.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/script/keyword_exceptions.sql</span>

<span class=c1 >-- kw = 'select'</span>
<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >any_table</span><span class=p >;</span>

<span class=c1 >-- kw = 'select'</span>
<span class=k >with</span> <span class=n >some_cte</span> <span class=k >as</span> <span class=p >(</span>
 <span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >any_table</span>
<span class=p >)</span>
 <span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >some_cte</span><span class=p >;</span>
</pre></div> </table></div> </div> <br/> <h3 id=markup-sql ><em>markup.sql</em><a class=headerlink  href="#markup-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/361733165bf6b563752df4a660b9a2f6/markup.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/markup.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre>1
2
3
4
5
6</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/script/markup.sql</span>

<span class=cm >/*-</span>
<span class=cm >__name: Example.sql</span>
<span class=cm >__description: This is an example description field.</span>
<span class=cm >-*/</span>
</pre></div> </table></div> </div> <br/> <h3 id=overview-statement-intro-py ><em>overview-statement-intro.py</em><a class=headerlink  href="#overview-statement-intro-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/fdc230e2ebfe970a2a5572a1f530d372/overview-statement-intro.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/overview-statement-intro.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Instantiate `script` from 'overview.sql' and inspect high-level contents.</span>
<span class=sd >../docs/snippets/script/overview-base-parsing.py</span>
<span class=sd >"""</span>

<span class=c1 ># Setup -----------------------------------------------------------------------</span>
<span class=kn >from</span> <span class=nn >pathlib</span> <span class=kn >import</span> <span class=n >Path</span>
<span class=n >paths</span> <span class=o >=</span> <span class=p >{</span><span class=n >p</span><span class=o >.</span><span class=n >name</span><span class=p >:</span> <span class=n >p</span> <span class=k >for</span> <span class=n >p</span> <span class=ow >in</span> <span class=n >Path</span><span class=o >.</span><span class=n >cwd</span><span class=p >()</span><span class=o >.</span><span class=n >glob</span><span class=p >(</span><span class=s1 >'**/*.sql'</span><span class=p >)}</span>
<span class=n >path</span> <span class=o >=</span> <span class=n >paths</span><span class=p >[</span><span class=s1 >'overview.sql'</span><span class=p >]</span>

<span class=kn >import</span> <span class=nn >snowmobile</span>


<span class=c1 ># Example ---------------------------------------------------------------------</span>

<span class=c1 ># -- Block 1 --</span>
<span class=n >script</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >Script</span><span class=p >(</span><span class=n >path</span><span class=o >=</span><span class=n >path</span><span class=p >)</span>
<span class=n >script</span><span class=o >.</span><span class=n >dtl</span><span class=p >()</span>
<span class=sd >"""</span>
<span class=sd >&gt;&gt;&gt;</span>
<span class=sd >overview.sql</span>
<span class=sd >============</span>
<span class=sd >1: Statement('create table~s1')</span>
<span class=sd >2: Statement('insert into~s2')</span>
<span class=sd >3: Statement('select data~s3')</span>
<span class=sd >4: Statement('select all~sample_table')</span>
<span class=sd >5: Statement('create transient table~s5')</span>
<span class=sd >6: Statement('insert into~s6')</span>
<span class=sd >7: Statement('drop table~s7')</span>
<span class=sd >"""</span>

<span class=c1 ># -- Block 2 --</span>
<span class=c1 ># Store a few statements, accessed by index position</span>
<span class=n >s_first</span><span class=p >,</span> <span class=n >s_last</span> <span class=o >=</span> <span class=n >script</span><span class=p >(</span><span class=mi >1</span><span class=p >),</span> <span class=n >script</span><span class=p >(</span><span class=o >-</span><span class=mi >1</span><span class=p >)</span>

<span class=c1 ># first sql keyword</span>
<span class=nb >print</span><span class=p >(</span><span class=n >s_first</span><span class=o >.</span><span class=n >kw</span><span class=p >)</span>  <span class=c1 >#&gt; create</span>
<span class=nb >print</span><span class=p >(</span><span class=n >s_last</span><span class=o >.</span><span class=n >kw</span><span class=p >)</span>   <span class=c1 >#&gt; drop</span>

<span class=c1 ># position within `script`</span>
<span class=nb >print</span><span class=p >(</span><span class=n >s_first</span><span class=o >.</span><span class=n >index</span><span class=p >)</span>  <span class=c1 >#&gt; 1</span>
<span class=nb >print</span><span class=p >(</span><span class=n >s_last</span><span class=o >.</span><span class=n >index</span><span class=p >)</span>   <span class=c1 >#&gt; 7</span>

<span class=c1 ># -- Block 3 --</span>
<span class=n >script</span><span class=o >.</span><span class=n >run</span><span class=p >(</span><span class=mi >1</span><span class=p >)</span>    <span class=c1 ># .run() from `script`</span>
<span class=n >script</span><span class=p >(</span><span class=mi >1</span><span class=p >)</span><span class=o >.</span><span class=n >run</span><span class=p >()</span>  <span class=c1 ># .run() from `statement`</span>

<span class=c1 ># -- Block 4 --</span>
<span class=c1 ># `script` details as read from 'overview.sql'</span>
<span class=nb >print</span><span class=p >(</span><span class=n >script</span><span class=o >.</span><span class=n >depth</span><span class=p >)</span>   <span class=c1 >#&gt; 7</span>
<span class=nb >print</span><span class=p >(</span><span class=n >script</span><span class=p >(</span><span class=mi >1</span><span class=p >)</span><span class=o >.</span><span class=n >nm</span><span class=p >)</span>   <span class=c1 >#&gt; create table~s1</span>
<span class=nb >print</span><span class=p >(</span><span class=n >script</span><span class=p >(</span><span class=o >-</span><span class=mi >1</span><span class=p >)</span><span class=o >.</span><span class=n >nm</span><span class=p >)</span>  <span class=c1 >#&gt; drop table~s7</span>

<span class=k >with</span> <span class=n >script</span><span class=o >.</span><span class=n >filter</span><span class=p >(</span><span class=n >excl_kw</span><span class=o >=</span><span class=p >[</span><span class=s1 >'select'</span><span class=p >,</span> <span class=s1 >'drop'</span><span class=p >])</span> <span class=k >as</span> <span class=n >s</span><span class=p >:</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >s</span><span class=o >.</span><span class=n >depth</span><span class=p >)</span>   <span class=c1 >#&gt; 4</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >s</span><span class=p >(</span><span class=mi >1</span><span class=p >)</span><span class=o >.</span><span class=n >nm</span><span class=p >)</span>   <span class=c1 >#&gt; create table~s1</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >s</span><span class=p >(</span><span class=o >-</span><span class=mi >1</span><span class=p >)</span><span class=o >.</span><span class=n >nm</span><span class=p >)</span>  <span class=c1 >#&gt; insert into~s4</span>
    <span class=n >s</span><span class=o >.</span><span class=n >dtl</span><span class=p >()</span>
<span class=sd >"""</span>
<span class=sd >&gt;&gt;&gt;</span>
<span class=sd >overview.sql</span>
<span class=sd >============</span>
<span class=sd >1: Statement('create table~s1')</span>
<span class=sd >2: Statement('insert into~s2')</span>
<span class=sd >3: Statement('create transient table~s3')</span>
<span class=sd >4: Statement('insert into~s4')</span>
<span class=sd >"""</span>
</pre></div> </table></div> </div> <br/> <h3 id=overview-sql ><em>overview.sql</em><a class=headerlink  href="#overview-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/a15f48f89a6a524c53cb8aac7818d2d7/overview.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/overview.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/script/overview.sql</span>

<span class=k >create</span> <span class=k >or</span> <span class=k >replace</span> <span class=k >table</span> <span class=n >sample_table</span> <span class=p >(</span>
	<span class=n >col1</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >),</span>
	<span class=n >col2</span> <span class=nb >number</span><span class=p >(</span><span class=mi >18</span><span class=p >,</span><span class=mi >0</span><span class=p >)</span>
<span class=p >);</span>

<span class=k >insert</span> <span class=k >into</span> <span class=n >sample_table</span> <span class=k >with</span>
<span class=n >sample_data</span> <span class=k >as</span> <span class=p >(</span>
  <span class=k >select</span>
    <span class=n >uniform</span><span class=p >(</span><span class=mi >1</span><span class=p >,</span> <span class=mi >10</span><span class=p >,</span> <span class=n >random</span><span class=p >(</span><span class=mi >1</span><span class=p >))</span> <span class=k >as</span> <span class=n >rand_int</span>
  <span class=k >from</span> <span class=k >table</span><span class=p >(</span><span class=n >generator</span><span class=p >(</span><span class=n >rowcount</span> <span class=o >=&gt;</span> <span class=mi >3</span><span class=p >))</span> <span class=n >v</span>
<span class=p >)</span>
  <span class=k >select</span>
    <span class=n >row_number</span><span class=p >()</span> <span class=n >over</span> <span class=p >(</span><span class=k >order</span> <span class=k >by</span> <span class=n >a</span><span class=p >.</span><span class=n >rand_int</span><span class=p >)</span> <span class=k >as</span> <span class=n >col1</span>
    <span class=p >,(</span><span class=n >col1</span> <span class=o >*</span> <span class=n >col1</span><span class=p >)</span> <span class=k >as</span> <span class=n >col2</span>
  <span class=k >from</span> <span class=n >sample_data</span> <span class=n >a</span><span class=p >;</span>

<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=cm >/*-select all~sample_table-*/</span>
<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=k >create</span> <span class=k >or</span> <span class=k >replace</span> <span class=n >transient</span> <span class=k >table</span> <span class=n >any_other_table</span> <span class=n >clone</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=k >insert</span> <span class=k >into</span> <span class=n >any_other_table</span> <span class=p >(</span>
  <span class=k >select</span>
    <span class=n >a</span><span class=p >.</span><span class=o >*</span>
  <span class=k >from</span> <span class=n >sample_table</span> <span class=n >a</span>
<span class=p >);</span>

<span class=k >drop</span> <span class=k >table</span> <span class=k >if</span> <span class=k >exists</span> <span class=n >sample_table</span><span class=p >;</span>
</pre></div> </table></div> </div> <br/> <h3 id=tags-multi-line-sql ><em>tags_multi-line.sql</em><a class=headerlink  href="#tags-multi-line-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/734a95c0136be95d328721383eee9344/tags_multi-line.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/tags_multi-line.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/script/tags_multi-line.sql</span>

<span class=cm >/*-</span>
<span class=cm >__name: I am a tag</span>
<span class=cm >__description: This is an example of a tag with the name explicitly declared.</span>
<span class=cm >-*/</span>
<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=cm >/*-</span>
<span class=cm >I am another tag</span>
<span class=cm >__description: This is an example of a tag with the name implicitly declared.</span>
<span class=cm >-*/</span>
<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>
</pre></div> </table></div> </div> <br/> <h3 id=tags-single-line-sql ><em>tags_single-line.sql</em><a class=headerlink  href="#tags-single-line-sql" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/005b4b6c007f15a52b5cc873320b92f6/tags_single-line.sql"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/script/tags_single-line.sql"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-sql notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre>1
2
3
4
5
6
7
8</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=c1 >-- ..docs/snippets/script/tags_single-line.sql</span>

<span class=cm >/*-I am a tag-*/</span>
<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>

<span class=cm >/*-I am a tag that isn't positioned correctly-*/</span>

<span class=k >select</span> <span class=o >*</span> <span class=k >from</span> <span class=n >sample_table</span><span class=p >;</span>
</pre></div> </table></div> </div> <br/> <br/> <h2 id=snowmobile >Snowmobile<a class=headerlink  href="#snowmobile" title="Permalink to this headline">¶</a></h2> <h3 id=connecting-py ><em>connecting.py</em><a class=headerlink  href="#connecting-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/f37db40ae7b74fd42a96ac89afd9a0bb/connecting.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/connecting.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >""" Establish a basic connection.</span>
<span class=sd >../docs/snippets/connecting.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=p >)</span>            <span class=c1 >#&gt; snowmobile.Snowmobile(creds='creds1')</span>
<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=p >)</span>        <span class=c1 >#&gt; snowmobile.Configuration('snowmobile.toml')</span>
<span class=nb >print</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >))</span>  <span class=c1 >#&gt; &lt;class 'snowflake.connector.connection.SnowflakeConnection'&gt;</span>

<span class=n >sn2</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >creds</span><span class=o >=</span><span class=s2 >"creds1"</span><span class=p >)</span>

<span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >connection</span><span class=o >.</span><span class=n >current</span> <span class=o >==</span> <span class=n >sn2</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >connection</span><span class=o >.</span><span class=n >current</span>  <span class=c1 >#&gt; True</span>
<span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s2 >"schema"</span><span class=p >)</span> <span class=o >==</span> <span class=n >sn2</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s2 >"schema"</span><span class=p >)</span>    <span class=c1 >#&gt; True</span>
<span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s2 >"session"</span><span class=p >)</span> <span class=o >==</span> <span class=n >sn2</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s2 >"session"</span><span class=p >)</span>  <span class=c1 >#&gt; False</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=connector-cursor-note-py ><em>connector_cursor_note.py</em><a class=headerlink  href="#connector-cursor-note-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/948d69938746edb6656dc06ee889f020/connector_cursor_note.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/connector_cursor_note.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate instance exhaustion component of Connector.cursor.</span>
<span class=sd >../snippets/connector_cursor_note.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=n >cur1</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >cursor</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>
<span class=n >cur2</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >cursor</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 2"</span><span class=p >)</span>

<span class=n >cursor</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >cursor</span>
<span class=n >cur11</span> <span class=o >=</span> <span class=n >cursor</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>
<span class=n >cur22</span> <span class=o >=</span> <span class=n >cursor</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 2"</span><span class=p >)</span>

<span class=nb >id</span><span class=p >(</span><span class=n >cur1</span><span class=p >)</span> <span class=o >==</span> <span class=nb >id</span><span class=p >(</span><span class=n >cur2</span><span class=p >)</span>    <span class=c1 >#&gt; False</span>
<span class=nb >id</span><span class=p >(</span><span class=n >cur11</span><span class=p >)</span> <span class=o >==</span> <span class=nb >id</span><span class=p >(</span><span class=n >cur22</span><span class=p >)</span>  <span class=c1 >#&gt; True</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=connector-delayed1-py ><em>connector_delayed1.py</em><a class=headerlink  href="#connector-delayed1-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/40a5c984d105c9d2f94af77526703fa7/connector_delayed1.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/connector_delayed1.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Create a delayed snowmobile.Snowmobile object.</span>
<span class=sd >..docs/snippets/snowmobile/connector_delayed1.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >delay</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>     <span class=c1 >#&gt; None</span>
<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >alive</span><span class=p >)</span>  <span class=c1 >#&gt; False</span>

<span class=n >_</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >query</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>     <span class=c1 >#&gt; snowflake.connector.connection.SnowflakeConnection</span>
<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >alive</span><span class=p >)</span>  <span class=c1 >#&gt; True</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=connector-delayed2-py ><em>connector_delayed2.py</em><a class=headerlink  href="#connector-delayed2-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/deacb689932f2a7fd341038aa16a838e/connector_delayed2.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/connector_delayed2.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate calling .connect() on existing Snowmobile instances.</span>
<span class=sd >..docs/snippets/snowmobile/connector_delayed2.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=c1 ># -- Delayed Connection --</span>
<span class=n >sn_del</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >delay</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>

<span class=nb >print</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=n >sn_del</span><span class=o >.</span><span class=n >con</span><span class=p >))</span>  <span class=c1 >#&gt; None</span>
<span class=n >sn_del</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>
<span class=nb >print</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=n >sn_del</span><span class=o >.</span><span class=n >con</span><span class=p >))</span>  <span class=c1 >#&gt; snowflake.connector.connection.SnowflakeConnection</span>


<span class=c1 ># -- Live Connection --</span>
<span class=n >sn_live</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=n >session1</span> <span class=o >=</span> <span class=n >sn_live</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'session'</span><span class=p >)</span>
<span class=n >sn_live</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>
<span class=n >session2</span> <span class=o >=</span> <span class=n >sn_live</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'session'</span><span class=p >)</span>
<span class=nb >print</span><span class=p >(</span><span class=n >session1</span> <span class=o >!=</span> <span class=n >session2</span><span class=p >)</span>  <span class=c1 >#&gt; True</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=ensure-alive-py ><em>ensure_alive.py</em><a class=headerlink  href="#ensure-alive-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/67a7d82f766a24e9288281b2a9e3e65c/ensure_alive.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/ensure_alive.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate behavior of Connector's 'ensure_alive' parameter.</span>
<span class=sd >..docs/snippets/connector_ensure_alive.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=c1 ># --- SESSION #1 ---</span>

<span class=c1 ># Explicitly providing default argument for clarity</span>
<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >ensure_alive</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>

<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >alive</span><span class=p >)</span>  <span class=c1 >#&gt; True</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>     <span class=c1 >#&gt; snowflake.connector.connection.SnowflakeConnection</span>

<span class=c1 ># Storing 1st session ID</span>
<span class=n >session1</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'session'</span><span class=p >)</span>

<span class=c1 ># Killing connection</span>
<span class=n >sn</span><span class=o >.</span><span class=n >disconnect</span><span class=p >()</span>

<span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >alive</span><span class=p >)</span>  <span class=c1 >#&gt; False</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>     <span class=c1 >#&gt; NoneType</span>

<span class=c1 ># --- SESSION #2 ---</span>

<span class=c1 ># Calling any method requiring a connection</span>
<span class=n >_</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >query</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>

<span class=c1 ># Storing 2nd session ID</span>
<span class=n >session2</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'session'</span><span class=p >)</span>

<span class=c1 ># Verifying both session IDs are valid</span>
<span class=nb >print</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=n >session1</span><span class=p >))</span>  <span class=c1 >#&gt; str</span>
<span class=nb >print</span><span class=p >(</span><span class=nb >type</span><span class=p >(</span><span class=n >session2</span><span class=p >))</span>  <span class=c1 >#&gt; str</span>

<span class=c1 ># Verifying they're unique</span>
<span class=nb >print</span><span class=p >(</span><span class=n >session1</span> <span class=o >!=</span> <span class=n >session2</span><span class=p >)</span>  <span class=c1 >#&gt; True</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=executing-py ><em>executing.py</em><a class=headerlink  href="#executing-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/6b9701ad623a8ceaf5ff981c3fc28771/executing.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/executing.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""Demonstrate primary methods for executing raw sql.</span>
<span class=sd >../docs/snippets/snowmobile/executing.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=c1 ># -- sn.query() ---------------------------------------------------------------</span>
<span class=n >df</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >query</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>  <span class=c1 >#  == pd.read_sql()</span>
<span class=nb >type</span><span class=p >(</span><span class=n >df</span><span class=p >)</span>                   <span class=c1 >#&gt; pandas.core.frame.DataFrame</span>

<span class=c1 ># -- pd.read_sql() --</span>
<span class=kn >import</span> <span class=nn >pandas</span> <span class=k >as</span> <span class=nn >pd</span>

<span class=n >df2</span> <span class=o >=</span> <span class=n >pd</span><span class=o >.</span><span class=n >read_sql</span><span class=p >(</span><span class=n >sql</span><span class=o >=</span><span class=s2 >"select 1"</span><span class=p >,</span> <span class=n >con</span><span class=o >=</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>

<span class=nb >print</span><span class=p >(</span><span class=n >df2</span><span class=o >.</span><span class=n >equals</span><span class=p >(</span><span class=n >df</span><span class=p >))</span>  <span class=c1 >#&gt; True</span>


<span class=c1 ># -- sn.ex() ------------------------------------------------------------------</span>
<span class=n >cur</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >ex</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>    <span class=c1 >#  == SnowflakeConnection.cursor().execute()</span>
<span class=nb >type</span><span class=p >(</span><span class=n >cur</span><span class=p >)</span>                  <span class=c1 >#&gt; snowflake.connector.cursor.SnowflakeCursor</span>

<span class=c1 ># -- SnowflakeConnection.cursor().execute() --</span>
<span class=n >cur2</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=o >.</span><span class=n >cursor</span><span class=p >()</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>

<span class=nb >print</span><span class=p >(</span><span class=n >cur</span><span class=o >.</span><span class=n >fetchone</span><span class=p >()</span> <span class=o >==</span> <span class=n >cur2</span><span class=o >.</span><span class=n >fetchone</span><span class=p >())</span>  <span class=c1 >#&gt; True</span>


<span class=c1 ># -- sn.exd() -----------------------------------------------------------------</span>
<span class=n >dcur</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >exd</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>  <span class=c1 >#  == SnowflakeConnection.cursor(DictCursor).execute()</span>
<span class=nb >type</span><span class=p >(</span><span class=n >dcur</span><span class=p >)</span>                 <span class=c1 >#&gt; snowflake.connector.DictCursor</span>

<span class=c1 ># -- SnowflakeConnection.cursor(DictCursor).execute() --</span>
<span class=kn >from</span> <span class=nn >snowflake.connector</span> <span class=kn >import</span> <span class=n >DictCursor</span>

<span class=n >dcur2</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=o >.</span><span class=n >cursor</span><span class=p >(</span><span class=n >cursor_class</span><span class=o >=</span><span class=n >DictCursor</span><span class=p >)</span><span class=o >.</span><span class=n >execute</span><span class=p >(</span><span class=s2 >"select 1"</span><span class=p >)</span>

<span class=nb >print</span><span class=p >(</span><span class=n >dcur</span><span class=o >.</span><span class=n >fetchone</span><span class=p >()</span> <span class=o >==</span> <span class=n >dcur2</span><span class=o >.</span><span class=n >fetchone</span><span class=p >())</span>  <span class=c1 >#&gt; True</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=inspect-connector-py ><em>inspect_connector.py</em><a class=headerlink  href="#inspect-connector-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/fc77272a55f45d8876fadb6880362ff3/inspect_connector.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/inspect_connector.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Instantiate a vanilla Snowmobile and inspect key attributes.</span>
<span class=sd >../docs/snippets/snowmobile/inspect_connector.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=p >)</span>         <span class=c1 >#&gt; snowmobile.core.connection.Snowmobile</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=p >)</span>     <span class=c1 >#&gt; snowmobile.core.configuration.Configuration</span>
<span class=nb >str</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=p >)</span>      <span class=c1 >#&gt; snowmobile.Configuration('snowmobile.toml')</span>

<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >con</span><span class=p >)</span>     <span class=c1 >#&gt; snowflake.connector.connection.SnowflakeConnection</span>
<span class=nb >type</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >cursor</span><span class=p >)</span>  <span class=c1 >#&gt; snowflake.connector.cursor.SnowflakeCursor</span>

<span class=c1 ># -- complete example; should run 'as is' --</span>
</pre></div> </table></div> </div> <br/> <h3 id=specifying-configuration-py ><em>specifying_configuration.py</em><a class=headerlink  href="#specifying-configuration-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/fe0edc226f6bec69905fb73653f17405/specifying_configuration.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/specifying_configuration.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate specifying an alternate snowmobile.toml file *path*.</span>
<span class=sd >../docs/snippets/snowmobile/specifying_configuration.py</span>
<span class=sd >"""</span>
<span class=kn >from</span> <span class=nn >pathlib</span> <span class=kn >import</span> <span class=n >Path</span>

<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >path</span> <span class=o >=</span> <span class=n >Path</span><span class=o >.</span><span class=n >cwd</span><span class=p >()</span> <span class=o >/</span> <span class=s1 >'snowmobile_v2.toml'</span>  <span class=c1 ># any alternate file path</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >from_config</span><span class=o >=</span><span class=n >path</span><span class=p >)</span>
</pre></div> </table></div> </div> <br/> <h3 id=specifying-configuration2-py ><em>specifying_configuration2.py</em><a class=headerlink  href="#specifying-configuration2-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/e52cee0b7d8c245b2675b717cfa2e578/specifying_configuration2.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/specifying_configuration2.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate specifying an alternate snowmobile.toml file *name*.</span>
<span class=sd >../docs/snippets/snowmobile/specifying_configuration2.py</span>
<span class=sd >"""</span>
<span class=c1 ># -- SETUP --------------------------------------------------------------------</span>

<span class=kn >import</span> <span class=nn >time</span>
<span class=kn >import</span> <span class=nn >shutil</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=c1 ># Instantiate sn from snowmobile.toml; omit unnecessary connection</span>
<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span><span class=n >delay</span><span class=o >=</span><span class=kc >True</span><span class=p >)</span>

<span class=c1 ># Create alternate snowmobile.toml file called 'snowmobile2.toml'</span>
<span class=n >path_cfg_orig</span> <span class=o >=</span> <span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >location</span>
<span class=n >path_cfg2</span> <span class=o >=</span> <span class=n >path_cfg_orig</span><span class=o >.</span><span class=n >parent</span> <span class=o >/</span> <span class=s1 >'snowmobile2.toml'</span>
<span class=n >shutil</span><span class=o >.</span><span class=n >copy</span><span class=p >(</span><span class=n >path_cfg_orig</span><span class=p >,</span> <span class=n >path_cfg2</span><span class=p >)</span>


<span class=c1 ># -- EXAMPLE ------------------------------------------------------------------</span>

<span class=k >def</span> <span class=nf >alt_sn</span><span class=p >(</span><span class=n >n</span><span class=p >:</span> <span class=nb >int</span><span class=p >)</span> <span class=o >-&gt;</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >Snowmobile</span><span class=p >:</span>
    <span class=sd >"""Instantiate sn from snowmobile2.toml and print time elapsed."""</span>
    <span class=n >pre</span> <span class=o >=</span> <span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span>
    <span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >(</span>
        <span class=n >config_file_nm</span><span class=o >=</span><span class=s1 >'snowmobile2.toml'</span><span class=p >,</span>
        <span class=n >delay</span><span class=o >=</span><span class=kc >True</span>  <span class=c1 ># omit connection - not needed</span>
    <span class=p >)</span>
    <span class=nb >print</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"n=</span><span class=si >{</span><span class=n >n</span><span class=si >}</span><span class=s2 >, time-required: ~</span><span class=si >{</span><span class=nb >int</span><span class=p >(</span><span class=n >time</span><span class=o >.</span><span class=n >time</span><span class=p >()</span> <span class=o >-</span> <span class=n >pre</span><span class=p >)</span><span class=si >}</span><span class=s2 > seconds"</span><span class=p >)</span>
    <span class=k >return</span> <span class=n >sn</span>


<span class=n >sn_alt1</span> <span class=o >=</span> <span class=n >alt_sn</span><span class=p >(</span><span class=n >n</span><span class=o >=</span><span class=mi >1</span><span class=p >)</span>  <span class=c1 >#&gt; n=1, time-required: ~6 seconds  -&gt; locates file, caches path</span>
<span class=n >sn_alt2</span> <span class=o >=</span> <span class=n >alt_sn</span><span class=p >(</span><span class=n >n</span><span class=o >=</span><span class=mi >2</span><span class=p >)</span>  <span class=c1 >#&gt; n=2, time-required: ~0 seconds  -&gt; uses cache from sn_alt1</span>
<span class=sd >"""</span>
<span class=sd >Note:</span>
<span class=sd >    The time required for `sn_alt1` to locate 'snowmobile2.toml' is arbitrary and</span>
<span class=sd >    will vary based the file's location relative to the current working directory.</span>
<span class=sd >"""</span>


<span class=c1 ># -- TEARDOWN -----------------------------------------------------------------</span>
<span class=c1 ># Deleting 'snowmobile2.toml' from file system post-example</span>

<span class=kn >import</span> <span class=nn >os</span>
<span class=n >os</span><span class=o >.</span><span class=n >remove</span><span class=p >(</span><span class=n >sn_alt1</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >location</span><span class=p >)</span>
</pre></div> </table></div> </div> <br/> <h3 id=verify-default-alias-change-py ><em>verify_default_alias_change.py</em><a class=headerlink  href="#verify-default-alias-change-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/67aed12d2dea510f8e278c4ad97e624f/verify_default_alias_change.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/snowmobile/verify_default_alias_change.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Verify `default-creds` has been changed to `creds2`.</span>
<span class=sd >../docs/snippets/snowmobile/verify_default_alias_change.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=k >assert</span> <span class=n >sn</span><span class=o >.</span><span class=n >cfg</span><span class=o >.</span><span class=n >connection</span><span class=o >.</span><span class=n >default_alias</span> <span class=o >==</span> <span class=s1 >'creds2'</span><span class=p >,</span> <span class=p >(</span>
    <span class=s2 >"Something's not right here; expected default_alias =='creds2'"</span>
<span class=p >)</span>
</pre></div> </table></div> </div> <br/> <br/> <h2 id=sql >SQL<a class=headerlink  href="#sql" title="Permalink to this headline">¶</a></h2> <h3 id=sql-cross-schema-py ><em>sql_cross_schema.py</em><a class=headerlink  href="#sql-cross-schema-py" title="Permalink to this headline">¶</a></h3> <hr class=docutils /> <div class="sn-link-group sn-snippet-only docutils"> <div class="sn-download-snippet docutils"> <p><a class="reference download internal" download="" href="_downloads/205eb3e672d7f0013da4d257138535d6/sql_cross_schema.py"><code class="xref download docutils literal notranslate"><span class=pre >Download</span></code></a></p> </div> <div class="sn-snippet-git-link docutils"> <p><a class="reference external" href="https://github.com/GEM7318/Snowmobile/tree/0.2.0/docs/snippets/sql/sql_cross_schema.py"><span>text</span></a></p> </div> </div> <div class="sn-indent-h-cell docutils"> <div class="highlight-python notranslate"><table class=highlighttable ><tr><td class=linenos ><div class=linenodiv ><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre></div><td class=code ><div class=highlight ><pre><span></span><span class=sd >"""</span>
<span class=sd >Demonstrate prefixing object names with an alternative schema.</span>
<span class=sd >../docs/snippets/sql/sql_cross_schema.py</span>
<span class=sd >"""</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>

<span class=c1 ># -- SETUP --------------------------------------------------------------------</span>
<span class=n >setup_sql</span> <span class=o >=</span> <span class=p >(</span>
    <span class=sd >"""</span>
<span class=sd >    create or replace table sample_table as with</span>
<span class=sd >    sample_data as (</span>
<span class=sd >      select</span>
<span class=sd >        uniform(1, 10, random(1)) as rand_int</span>
<span class=sd >      from table(generator(rowcount =&gt; 3)) v</span>
<span class=sd >    )</span>
<span class=sd >      select</span>
<span class=sd >        row_number() over (order by a.rand_int) as col1</span>
<span class=sd >        ,(col1 * col1) as col2</span>
<span class=sd >      from sample_data a</span>
<span class=sd >    """</span>
<span class=p >)</span>

<span class=n >sn</span><span class=o >.</span><span class=n >ex</span><span class=p >(</span><span class=n >setup_sql</span><span class=p >)</span>  <span class=c1 ># create 'sample_table'</span>

<span class=c1 ># -- EXAMPLE ------------------------------------------------------------------</span>
<span class=kn >import</span> <span class=nn >snowmobile</span>
<span class=kn >from</span> <span class=nn >snowflake.connector.errors</span> <span class=kn >import</span> <span class=n >DatabaseError</span>

<span class=k >try</span><span class=p >:</span>
    <span class=c1 ># setup</span>
    <span class=n >schema_nms</span> <span class=o >=</span> <span class=p >[</span><span class=s1 >'sample_schema1'</span><span class=p >,</span> <span class=s1 >'sample_schema2'</span><span class=p >]</span>
    <span class=k >for</span> <span class=n >schema</span> <span class=ow >in</span> <span class=n >schema_nms</span><span class=p >:</span>
        <span class=n >_</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span><span class=o >.</span><span class=n >ex</span><span class=p >(</span><span class=sa >f</span><span class=s2 >"create or replace schema </span><span class=si >{</span><span class=n >schema</span><span class=si >}</span><span class=s2 >"</span><span class=p >)</span>

    <span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>
    <span class=k >assert</span> <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'schema'</span><span class=p >)</span><span class=o >.</span><span class=n >lower</span><span class=p >()</span> <span class=ow >not</span> <span class=ow >in</span> <span class=n >schema_nms</span>

    <span class=c1 ># ==================</span>
    <span class=c1 ># - Start Example -</span>
    <span class=c1 ># ==================</span>

    <span class=c1 ># Clone some tables</span>
    <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >clone</span><span class=p >(</span><span class=n >nm</span><span class=o >=</span><span class=s1 >'sample_table'</span><span class=p >,</span> <span class=n >to</span><span class=o >=</span><span class=s1 >'other_schema.sample_table'</span><span class=p >)</span>
    <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >drop</span><span class=p >(</span><span class=n >nm</span><span class=o >=</span><span class=s1 >'other_schema.sample_table'</span><span class=p >)</span>
    <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >clone</span><span class=p >(</span>  <span class=c1 ># other to current schema</span>
        <span class=n >nm</span><span class=o >=</span><span class=s1 >'other_schema.sample_table'</span><span class=p >,</span>
        <span class=n >to</span><span class=o >=</span><span class=s1 >'sample_table'</span><span class=p >,</span>
    <span class=p >)</span>

    <span class=c1 ># Query metadata</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >exists</span><span class=p >(</span><span class=s1 >'sample_table'</span><span class=p >))</span>                 <span class=c1 >#&gt; True</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >exists</span><span class=p >(</span><span class=s1 >'sample_schema.sample_table2'</span><span class=p >))</span>  <span class=c1 >#&gt; True</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >exists</span><span class=p >(</span><span class=s1 >'gem7318.sample_table3'</span><span class=p >))</span>                <span class=c1 >#&gt; True</span>
    <span class=nb >print</span><span class=p >(</span><span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current_schema</span><span class=p >())</span>

    <span class=c1 ># sn.sql.drop() works the same way</span>
    <span class=k >for</span> <span class=n >t</span> <span class=ow >in</span> <span class=p >[</span>
        <span class=s1 >'sample_table'</span><span class=p >,</span>
        <span class=s1 >'sample_schema.sample_table2'</span><span class=p >,</span>
        <span class=c1 ># 'sample_table3',</span>
    <span class=p >]:</span>
        <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >drop</span><span class=p >(</span><span class=n >t</span><span class=p >)</span>

    <span class=c1 ># ==================</span>
    <span class=c1 ># - End Example -</span>
    <span class=c1 ># ==================</span>

<span class=k >except</span> <span class=n >DatabaseError</span> <span class=k >as</span> <span class=n >e</span><span class=p >:</span>
    <span class=k >raise</span> <span class=n >e</span>

<span class=k >finally</span><span class=p >:</span>
    <span class=c1 ># teardown</span>
    <span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >drop</span><span class=p >(</span><span class=n >nm</span><span class=o >=</span><span class=s1 >'sample_schema'</span><span class=p >,</span> <span class=n >obj</span><span class=o >=</span><span class=s1 >'schema'</span><span class=p >)</span>
<span class=c1 ># snowmobile-include</span>

<span class=n >sn</span> <span class=o >=</span> <span class=n >snowmobile</span><span class=o >.</span><span class=n >connect</span><span class=p >()</span>
<span class=n >sn</span><span class=o >.</span><span class=n >sql</span><span class=o >.</span><span class=n >current</span><span class=p >(</span><span class=s1 >'schema'</span><span class=p >)</span><span class=o >.</span><span class=n >lower</span><span class=p >()</span>


</pre></div> </table></div> </div> <br/> </article> </div> </div> </main> </div> <footer class=md-footer > <div class=md-footer-nav > <nav class="md-footer-nav__inner md-grid"> <a href="autoapi/snowmobile/core/table/index.html" title=snowmobile.core.table  class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev > <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Previous </span> <code class="xref py py-mod docutils literal notranslate"><span class=pre >snowmobile.core.table</span></code> </span> </div> </a> <a href="usage/advanced.html" title="Advanced Examples" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next > <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class=md-flex__ellipsis > <span class=md-footer-nav__direction > Next </span> Advanced Examples </span> </div> <div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright > </div> </div> </div> </footer> <script src="_static/javascripts/application.js"></script> <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>